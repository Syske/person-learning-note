### 结算金额关系

#### 费用预结算

##### 省内

医疗机构将患者费用明细（依据就医地药品目录归类明细，如甲类、乙类、丙类等）上传至异地就医省平台，省平台实时将明细数据传输至参保地平台，参保地根据患者明细费用，依据参保地就医政策，计算患者就医费用

医疗机构调用就医地预结算接口时，就医地预结算接口通过远程服务调用省级服务预结算接口，省级服务调用参保地预结算接口，参保地预结算接口根据已上传的患者明细信息，计算患者就医各项费用，并返回

##### 跨省



入参数据：由就医地计算生成

出参数据：参保地根据就医地入参数据，返回结算数据

#### 异地结算

##### 费用平衡

1、医疗总费用 = 医保支付总额 + 个人现金支付

```java
BKCA08 = BKCA09 + BKC257
```

2、医保支付总额校验

```java
KC0C.getBKCA09(), 2) = // 医保支付总额
     (CommonUtility.round(KC0C.getBKCA01() + // 城镇职工基本医疗统筹支付
       KC0C.getBKCA02() + // 城镇职工大额统筹支付
       KC0C.getBKCA03() + // 城镇职工公务员统筹支付
       KC0C.getBKCA04() + // 医疗照顾人员统筹支付
       KC0C.getBKCA05() + // 个人账户基金支付
       KC0C.getAKE032() + // 伤残人员医疗保障基金
       KC0C.getAKE026() + // 补充医疗保险基金
       KC0C.getAKE181() + // 民政补助基金
       KC0C.getAKE173() + // 其他基金支付
       KC0C.getBKC121() + // 大病救助基金
       KC0C.getAKC279() + // 兜底补助基金
       KC0C.getBZZ003() + // 大病二次报销金额
       KC0C.getBKC120() + // 离休保障金
       KC0C.getBKC119() + // 大病保险
       KC0C.getBKC124() + // 劳模二次结算报销金额
       KC0C.getBKCA18()// 商业保险二次补助
```

##### 业务状态

结算业务BKEA05

| 状态 | 解释           | 业务顺序 |
| ---- | -------------- | -------- |
| S01  | 未审核         | 1        |
| S02  | 就医地已审核   | 2        |
| S03  | 就医地审核拒付 | 3        |
|      |                |          |
|      |                |          |

#### 跨省结算费用平衡

```java
double BKCA09=out1104.getAKE039()+out1104.getAKE035()+out1104.getAKE026()
		+out1104.getAAE045()+out1104.getAKE032()+out1104.getAKE181()
		+out1104.getAKE173()+out1104.getAKE038();
```

- AKE149经办机构支付总额 = AKE039基本医疗保险统筹基金支付金额 +AKE035 公 务 员 医 疗 补 助 基 金 +AKE026 补充医疗保险基金 +AAE045 大病补充医疗保险基金+AKE032 伤残人员医疗保障基金 +
  AKE181 民政补助基金+AKE173 其他基金支付 + AKE038 个人账户支付

#### 医保数据计算

- 个人先自付（BKC245）:乙类费用个人承担部分