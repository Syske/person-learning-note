# 设计模式详解——状态模式

### 前言



### 状态模式

状态模式允许对象在内部状态改变时改变它的行为，对象看起来好像修改了它的类。

![](https://gitee.com/sysker/picBed/raw/master/blog/20211020085742.png)

#### 要点

- 状态模式允许一个对象基于内部状态而拥有不同的行为
- 和程序状态机（`PSM`）不同，状态模式用类代表状态
- `Context`会将行为委托给当前状态对象
- 通过将每个状态封装进一个类，我们把以后需要做的任何改变局部化了
- 状态模式和策略模式有相同的类图，但是它们的意图不同
- 策略模式通常会用行为或算法来配置`Context`类
- 状态模式允许`Context`随着状态的改变而改变行为
- 状态转换可以由`State`类或`Context`类控制
- 使用状态模式通常会导致设计中类的数目大量增加
- 状态类可以被多个`Context`示例共享





### 总结



